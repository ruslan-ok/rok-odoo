<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="account_invoice_form_l10n_pl" model="ir.ui.view">
        <field name="name">account.move.form.l10n.pl</field>
        <field name="model">account.move</field>
        <field name="priority">20</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <data>
                <xpath expr="//sheet" position="before">
                    <div class="alert alert-warning" role="alert"
                        invisible="not l10n_pl_edi_header
                                   or state == 'draft'
                                   or ksef_status == 'accepted'">

                        <div class="d-flex align-items-center">
                            <field name="l10n_pl_edi_header" class="oe_inline" readonly="1"/>

                            <a name="action_update_invoice_status"
                               type="object"
                               class="alert-link fw-bold ms-1"
                               invisible="ksef_status == 'accepted'"
                               data-hotkey="shift+K">Check Sending</a>
                        </div>
                    </div>

                    <div class="alert alert-success d-flex align-items-center" role="alert"
                        invisible="state == 'draft' or ksef_status != 'accepted'">

                        <i class="fa fa-check-circle text-success me-2" role="img" title="Success"/>

                        <span>Invoice accepted by KSeF.</span>

                        <a name="action_get_invoice_UPO"
                           type="object"
                           class="alert-link fw-bold ms-1"
                           data-hotkey="shift+U">Download UPO</a>
                    </div>
                </xpath>
            </data>
    </field>
    </record>
</odoo>

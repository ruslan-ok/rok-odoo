<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_config_settings_view_form_l10n_pl_edi" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.l10n.pl.edi</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="account.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[@id='l10n_pl_section']" position="after">
                <setting id="l10n_pl_edi_setting" string="KSeF (FA(3))">
                    <div class="mt8 content-group">
                        <div class="content-group d-flex align-items-center gap-2">
                            <field name="l10n_pl_edi_register" class="oe_inline"/>
                            <span class="text-muted">
                                By checking this box, I authorize Odoo to send and receive my invoices through the KSeF.
                            </span>
                        </div>
                        <div class="row mt8">
                            <label for="l10n_pl_edi_certificate" string="Certificate" class="col-lg-3 o_light_label"/>
                            <div>
                                <field name="l10n_pl_edi_certificate" class="oe_inline" readonly="1"/>
                                <button
                                    name="%(l10n_pl_edi.action_l10n_pl_edi_cert_upload_wizard)d"
                                    string="Upload / Change..."
                                    type="action"
                                    class="btn-link oe_inline px-1"/>
                            </div>
                        </div>

                        <div class="text-success mt8"
                             invisible="not l10n_pl_access_token or l10n_pl_edi_mode != 'prod'">
                            An <span class="fw-bold">Official (Production)</span> service has been authorized.
                        </div>
                        <div class="text-success mt8"
                             invisible="not l10n_pl_access_token or l10n_pl_edi_mode != 'test'">
                            A <span class="fw-bold">Test</span> service has been authorized.
                        </div>
                    </div>
                </setting>
            </xpath>
        </field>
    </record>
</odoo>
